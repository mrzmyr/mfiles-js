<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [constructor][1]
    -   [Parameters][2]
    -   [Examples][3]
-   [auth][4]
    -   [Parameters][5]
    -   [Examples][6]
-   [search][7]
    -   [Parameters][8]
    -   [Examples][9]
-   [getRecentlyAccessedByMe][10]
    -   [Examples][11]
-   [getPermalink][12]
    -   [Parameters][13]
    -   [Examples][14]
-   [getValueListItems][15]
    -   [Parameters][16]
    -   [Examples][17]
-   [getValueLists][18]
    -   [Examples][19]
-   [getObjectTypes][20]
    -   [Examples][21]
-   [getClasses][22]
    -   [Examples][23]
-   [getClass][24]
    -   [Parameters][25]
    -   [Examples][26]
-   [getProperties][27]
    -   [Examples][28]
-   [getProperty][29]
    -   [Parameters][30]
    -   [Examples][31]
-   [getPropertyByTitle][32]
    -   [Parameters][33]
    -   [Examples][34]
-   [getWorkflows][35]
    -   [Examples][36]
-   [getWorkflow][37]
    -   [Parameters][38]
    -   [Examples][39]
-   [getWorkflowStates][40]
    -   [Parameters][41]
    -   [Examples][42]
-   [getWorkflowStateTransitions][43]
    -   [Parameters][44]
    -   [Examples][45]
-   [getObject][46]
    -   [Parameters][47]
    -   [Examples][48]
-   [downloadFile][49]
    -   [Parameters][50]
    -   [Examples][51]
-   [createDocument][52]
    -   [Parameters][53]
    -   [Examples][54]
-   [uploadFile][55]
    -   [Parameters][56]
    -   [Examples][57]

## constructor

### Parameters

-   `options` **[Object][58]** vault initialisation data

### Examples

```javascript
const Mfiles = require('mfiles-js');
const mfiles = new Mfiles({
  vault_guid: '{XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXXX}',
  vault_url: 'https://kb.cloudvault.m-files.com'
});
```

## auth

Authenticate with the vault, the auth `token` will be saved inside the `mfiles` class instance to make authenticated calls from there on

### Parameters

-   `options` **[Object][58]&lt;{username: [String][59], password: [String][59]}>** credentials to authenticate with

### Examples

```javascript
mfiles.auth({ username: 'MY_USERNAME', password: 'MY_PASSWORD' })
```

Returns **[Promise][60]** returns the token in an object

## search

To execute a quicksearch, with a querystring parameter and set its value to the term to search by. This is equivalent to using the search bar at the top of the M-Files Desktop or Web interfaces.

### Parameters

-   `query_params` **([String][59] \| [Object][58])** 

### Examples

```javascript
mfiles.search('My document example title');
```

```javascript
mfiles.search({ '100': '3' }) // get all objects where the class (property id '100') is '3'
```

```javascript
mfiles.search({ 'Class': '3' }) // or use direct name of the property to search
```

Returns **[Promise][60]** 

## getRecentlyAccessedByMe

Get all objects recently accessed by the authenticated (`.auth`) user

### Examples

```javascript
mfiles.getRecentlyAccessedByMe()
```

Returns **[Promise][60]** a list of all objects recently accessed

## getPermalink

-   **See: [https://developer.m-files.com/Built-In/URLs][61]**

Get web permalink by ObjectGUID

### Parameters

-   `guid`  
-   `ObjectGUID` **[String][59]** of an object

### Examples

```javascript
mfiles.getPermalink('2D50F77D-F828-4282-B2ED-7420844C49A0')
```

```javascript
mfiles.getPermalink('{2D50F77D-F828-4282-B2ED-7420844C49A0}') // will auto strip
// => https://kb.cloudvault.m-files.com/Default.aspx?#F6A60D09-00A4-4287-AB8C-D437294E85B0/object/2D50F77D-F828-4282-B2ED-7420844C49A0/latest
```

Returns **[String][59]** Full url of the permalink

## getValueListItems

-   **See: [https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/valuelists/id/items/][62]**

Gets all items from a value list

### Parameters

-   `id`  
-   `the` **[Number][63]** id of the value list

### Examples

```javascript
mfiles.getValueListItems(10)
```

Returns **[Array][64]** list of value items

## getValueLists

-   **See: [https://www.m-files.com/user-guide/latest/eng/Value_lists.html][65]**

Get all value lists

### Examples

```javascript
mfiles.getValueLists()
```

Returns **[Promise][60]** resolves to array of value lists

## getObjectTypes

-   **See: [https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/objecttypes/][66]**

Get all object types

### Examples

```javascript
mfiles.getObjectTypes()
```

Returns **[Promise][60]** array of object types

## getClasses

-   **See: [https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/classes/][67]**

Get all classes

### Examples

```javascript
mfiles.getClasses()
```

Returns **[Promise][60]** array with all classes

## getClass

-   **See: [https://www.m-files.com/user-guide/latest/eng/Classes.html][68]**

Get class details

### Parameters

-   `id`  
-   `the` **[Number][63]** id of the class

### Examples

```javascript
mfiles.getClass(0) // 0 = Document
```

Returns **[Promise][60]** get details about a class

## getProperties

-   **See: [https://www.m-files.com/user-guide/latest/eng/Property_definitions.html][69]**

Get all possible object properties

### Examples

```javascript
mfiles.getProperties()
```

Returns **[Promise][60]** array of properties

## getProperty

-   **See: [https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/properties/id/][70]**

Get details about a property

### Parameters

-   `id` **[String][59]** id of the property

### Examples

```javascript
mfiles.getProperty()
```

Returns **[Promise][60]** details about the propterty

## getPropertyByTitle

Get a property object by title

### Parameters

-   `title` **[String][59]** the title of the property

### Examples

```javascript
mfiles.getPropertyByTitle('Class')
```

Returns **[Promise][60]** resolves to the property object

## getWorkflows

-   **See: [https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/workflows/][71]**

Get all worksflows

### Examples

```javascript
mfiles.getWorkflows()
```

Returns **[Promise][60]** array of all workflows

## getWorkflow

-   **See: [https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/workflows/id/][72]**

Get workflow details

### Parameters

-   `id` **[Number][63]** the workflow id

### Examples

```javascript
mfiles.getWorkflow(103)
```

Returns **[Promise][60]** object with workflow details

## getWorkflowStates

-   **See: [https://www.m-files.com/user-guide/latest/eng/Individual_state.html][73]**

Get a workflow states

### Parameters

-   `id` **[Number][63]** of the workflow (from `getWorkflows()`)

### Examples

```javascript
mfiles.getWorkflowStates(103)
```

Returns **[Promise][60]** array of workflow states

## getWorkflowStateTransitions

-   **See: [https://www.m-files.com/user-guide/latest/eng/workflow_state_transitions.html][74]**

Get a workflow state transitions

### Parameters

-   `id` **[Number][63]** of the workflow (from `getWorkflows()`)

### Examples

```javascript
mfiles.getWorkflowStateTransitions(3)
```

Returns **[Promise][60]** array of workflow state transitions

## getObject

-   **See: [https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/objecttypes][75]**

Get object by object_type and object_id

### Parameters

-   `object_type` **[Number][63]** the id of the object type
-   `object_id` **[Number][63]** the id of the object

### Examples

```javascript
mfiles.getObject(0, 359102) // 0 = Document
```

Returns **[Promise][60]** object data

## downloadFile

-   **See: [https://developer.m-files.com/Built-In/URLs/][76]**

Get [download promise][77] of a file

### Parameters

-   `object_type` **([Number][63] \| [String][59])** the id of the object type
-   `object_id` **([Number][63] \| [String][59])** id of the object
-   `file_id` **([Number][63] \| [String][59])** id of the file

### Examples

```javascript
let object = await mfiles.getObject(0, 359102); // 0 = Document (see Object Types)
let file = object.Files[0];
let data = await mfiles.downloadFile(0, 359102, file.ID)
fs.writeFileSync(`./dist/${file.EscapedName}`, data);
```

Returns **[Promise][60]** Returning a [`download`][77] promise

## createDocument

-   **See: [https://developer.m-files.com/APIs/REST-API/Creating-Objects/][78]**
-   **See: [https://www.m-files.com/user-guide/latest/eng/built-in_property_definitions.html][79]**
-   **See: **

Create a document by file path

### Parameters

-   `file_path` **[String][59]** Path of the file you want to create the document with
-   `class_id` **([Number][63] \| [String][59])** id of the required field `class`
-   `property_values`   (optional, default `[]`)

### Examples

```javascript
// create file with class "Document" (0 = Document)
mfiles.createDocument('./myfile.docx', 0)
```

Returns **[Promise][60]** resolves to the new created document object

## uploadFile

Update a file to create a document upon it, this function is being used for `createDocument`

### Parameters

-   `file_path` **[String][59]** Path of the file

### Examples

```javascript
mfiles.uploadFile('./myfile.docx')
```

Returns **[Promise][60]** resolves to the returned file object

[1]: #constructor

[2]: #parameters

[3]: #examples

[4]: #auth

[5]: #parameters-1

[6]: #examples-1

[7]: #search

[8]: #parameters-2

[9]: #examples-2

[10]: #getrecentlyaccessedbyme

[11]: #examples-3

[12]: #getpermalink

[13]: #parameters-3

[14]: #examples-4

[15]: #getvaluelistitems

[16]: #parameters-4

[17]: #examples-5

[18]: #getvaluelists

[19]: #examples-6

[20]: #getobjecttypes

[21]: #examples-7

[22]: #getclasses

[23]: #examples-8

[24]: #getclass

[25]: #parameters-5

[26]: #examples-9

[27]: #getproperties

[28]: #examples-10

[29]: #getproperty

[30]: #parameters-6

[31]: #examples-11

[32]: #getpropertybytitle

[33]: #parameters-7

[34]: #examples-12

[35]: #getworkflows

[36]: #examples-13

[37]: #getworkflow

[38]: #parameters-8

[39]: #examples-14

[40]: #getworkflowstates

[41]: #parameters-9

[42]: #examples-15

[43]: #getworkflowstatetransitions

[44]: #parameters-10

[45]: #examples-16

[46]: #getobject

[47]: #parameters-11

[48]: #examples-17

[49]: #downloadfile

[50]: #parameters-12

[51]: #examples-18

[52]: #createdocument

[53]: #parameters-13

[54]: #examples-19

[55]: #uploadfile

[56]: #parameters-14

[57]: #examples-20

[58]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[59]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[60]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[61]: https://developer.m-files.com/Built-In/URLs

[62]: https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/valuelists/id/items/

[63]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[64]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[65]: https://www.m-files.com/user-guide/latest/eng/Value_lists.html

[66]: https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/objecttypes/

[67]: https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/classes/

[68]: https://www.m-files.com/user-guide/latest/eng/Classes.html

[69]: https://www.m-files.com/user-guide/latest/eng/Property_definitions.html

[70]: https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/properties/id/

[71]: https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/workflows/

[72]: https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/workflows/id/

[73]: https://www.m-files.com/user-guide/latest/eng/Individual_state.html

[74]: https://www.m-files.com/user-guide/latest/eng/workflow_state_transitions.html

[75]: https://developer.m-files.com/APIs/REST-API/Reference/resources/structure/objecttypes

[76]: https://developer.m-files.com/Built-In/URLs/

[77]: https://github.com/kevva/download

[78]: https://developer.m-files.com/APIs/REST-API/Creating-Objects/

[79]: https://www.m-files.com/user-guide/latest/eng/built-in_property_definitions.html
